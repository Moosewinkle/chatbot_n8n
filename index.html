<script>
  window.ChatWidgetConfig = { /* your same config */ };

  (function loadChatWidget() {
    function inject(src, onerror){
      var s = document.createElement('script');
      s.src = src;
      s.defer = true;
      if (onerror) s.onerror = onerror;
      document.body.appendChild(s);
    }
    // REPLACE with your real username/repo:
    const LOCAL = 'https://<your-username>.github.io/<your-repo>/chat-widget.js';
    const CDN   = 'https://cdn.jsdelivr.net/gh/juansebsol/n8n-chatbot-template@latest/chat-widget.js';

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => inject(LOCAL, () => inject(CDN)));
    } else {
      inject(LOCAL, () => inject(CDN));
    }
  })();
</script>
